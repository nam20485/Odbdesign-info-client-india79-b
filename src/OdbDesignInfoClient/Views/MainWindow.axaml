<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:OdbDesignInfoClient.Core.ViewModels"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="1200" d:DesignHeight="800"
        x:Class="OdbDesignInfoClient.Views.MainWindow"
        x:DataType="vm:MainViewModel"
        Title="{Binding Title}"
        Width="1200" Height="800"
        MinWidth="800" MinHeight="600"
        WindowStartupLocation="CenterScreen">

    <DockPanel>
        <!-- Command Bar (Top) -->
        <Border DockPanel.Dock="Top" Background="{DynamicResource SystemControlBackgroundChromeMediumBrush}" Padding="8">
            <Grid ColumnDefinitions="Auto,*,Auto,Auto,Auto">
                <!-- Connection Indicator -->
                <StackPanel Grid.Column="0" Orientation="Horizontal" Spacing="8" VerticalAlignment="Center">
                    <Ellipse Width="12" Height="12" Fill="Gray" x:Name="ConnectionIndicator"/>
                    <TextBlock Text="Server Status" VerticalAlignment="Center"/>
                </StackPanel>

                <!-- Design Selector -->
                <ComboBox Grid.Column="2" 
                          ItemsSource="{Binding Designs}"
                          SelectedItem="{Binding SelectedDesign}"
                          MinWidth="200"
                          Margin="8,0"
                          PlaceholderText="Select a design..."/>

                <!-- Refresh Button -->
                <Button Grid.Column="3" Command="{Binding RefreshCommand}" Margin="4,0" ToolTip.Tip="Refresh">
                    <TextBlock Text="Refresh"/>
                </Button>

                <!-- Connect/Disconnect Button -->
                <Button Grid.Column="4" 
                        Command="{Binding ConnectCommand}"
                        Content="Connect"
                        Margin="4,0"/>
            </Grid>
        </Border>

        <!-- Status Bar (Bottom) -->
        <Border DockPanel.Dock="Bottom" Background="{DynamicResource SystemControlBackgroundChromeMediumBrush}" Padding="8,4">
            <Grid ColumnDefinitions="*,Auto,Auto">
                <TextBlock Grid.Column="0" Text="{Binding StatusMessage}" VerticalAlignment="Center"/>
                <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="8" Margin="16,0">
                    <TextBlock Text="Viewer:" VerticalAlignment="Center"/>
                    <Ellipse Width="8" Height="8" Fill="Gray" x:Name="ViewerIndicator"/>
                </StackPanel>
                <TextBlock Grid.Column="2" Text="v1.0.0" VerticalAlignment="Center" Opacity="0.6"/>
            </Grid>
        </Border>

        <!-- Main Content Area -->
        <TabControl SelectedIndex="{Binding SelectedTabIndex}" Margin="8">
            <TabItem Header="Components">
                <TextBlock Text="Components grid will be displayed here" 
                           HorizontalAlignment="Center" 
                           VerticalAlignment="Center"/>
            </TabItem>
            <TabItem Header="Nets">
                <TextBlock Text="Nets grid will be displayed here" 
                           HorizontalAlignment="Center" 
                           VerticalAlignment="Center"/>
            </TabItem>
            <TabItem Header="Stackup">
                <TextBlock Text="Layer stackup will be displayed here" 
                           HorizontalAlignment="Center" 
                           VerticalAlignment="Center"/>
            </TabItem>
            <TabItem Header="Drill Tools">
                <TextBlock Text="Drill tools will be displayed here" 
                           HorizontalAlignment="Center" 
                           VerticalAlignment="Center"/>
            </TabItem>
            <TabItem Header="Packages">
                <TextBlock Text="Packages will be displayed here" 
                           HorizontalAlignment="Center" 
                           VerticalAlignment="Center"/>
            </TabItem>
            <TabItem Header="Parts">
                <TextBlock Text="Parts will be displayed here" 
                           HorizontalAlignment="Center" 
                           VerticalAlignment="Center"/>
            </TabItem>
        </TabControl>
    </DockPanel>
</Window>
